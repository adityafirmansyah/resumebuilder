<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>Simple static sites - Rowan Hogan dot com.</title>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='Full-stack designer from Brisbane, Australia.' name='description'>
    <meta content='width=device-width, minimal-ui' name='viewport'>
    <link href="../../assets/images/favicon.ico" rel="icon" type="image/ico" />
    <link href="../../assets/stylesheets/application-051ee260.css" rel="stylesheet" />
    <link href="../../assets/stylesheets/print-ecddfe38.css" rel="stylesheet" media="print" />
    <script src="//use.typekit.net/arj3ujg.js"></script>
    <script>
      try{Typekit.load();}catch(e){}
    </script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body class='articles articles_simple-static-sites articles_simple-static-sites_index'>
    <header class='site-header'>
      <div class='container'>
        <a class="logo" href="/"><svg style='enable-background:new -82.8 0 290.3 512;' viewBox='-82.8 0 290.3 512' width='30' x='0px' y='0px'>
          <g>
            <path d='M174.7,189.1c-5.5-5.9-11.8-11-18.7-15.5l-67,67c7.4,3.5,14.1,8.6,19.3,15.9c6.8,9.6,11.1,22.9,11.1,40.6v215l87.9-87.7&#x000A;		V284.2C207.3,245.3,196.2,212,174.7,189.1z'></path>
            <path d='M89.6,155.7c-6.1,0-12.2,0.6-18.2,1.6L-82.8,311.5v37.1L108.8,157C102.7,156.2,96.3,155.7,89.6,155.7z'></path>
            <polygon points='5.1,159.7 5.1,0.7 -82.8,88.4 -82.8,159.7 -31.9,159.7 -82.8,210.6 -82.8,247.7 5.1,159.8 	'></polygon>
            <polygon points='-44.4,512 5.1,462.5 5.1,425.3 -81.5,512 	'></polygon>
            <polygon points='-82.8,449.5 5.1,361.6 5.1,324.4 -82.8,412.3 	'></polygon>
          </g>
        </svg>
        </a>
        <nav class='site-nav'>
          <a href="/feed">Feed</a>
          <a href="/projects">Projects</a>
          <a class="active" href="/articles">Articles</a>
          <a href="/resume">R&eacute;sum&eacute;</a>
        </nav>
      </div>
    </header>
    <section class='site-main'>
      <div class='container'>
        <h1>Simple static sites</h1>
        <em class='date'>Wednesday, 13 May 2015</em>
        <section class='article-body'>
          <p>It seems not too long ago I wrote <a href="http://netengine.com.au/blog/blogging-straight-from-prose-io/">this post</a> about blogging and static site generation, but since then I have come across different types of projects which require a slightly different setup.</p>
          
          <p>In that post I went over a process that used <a href="https://middlemanapp.com/">Middleman</a>, <a href="https://github.com/">Github</a>, <a href="http://prose.io/">Prose</a> &amp; <a href="https://travis-ci.org/">Travis CI</a> to build, host, author and deploy a static site. Here I&rsquo;ve mixed up the process (and the third-parties) a little bit. I&rsquo;ll still be using <em>Github</em> and <em>Middleman</em>, but I&rsquo;ll be swapping out <em>Prose</em> for <a href="https://www.contentful.com/">Contentful</a> and <em>Travis CI</em> for <a href="https://www.netlify.com/">Netlify</a>.</p>
          
          <p>I&rsquo;ve created an <a href="https://github.com/net-engine/simple_static_site_example">example project</a> which uses the process I go through below.</p>
          
          <p><a class="button button-large" href="https://github.com/net-engine/simple_static_site_example">View example project</a></p>
          
          <p><img alt="Middleman, Netlify &amp; Contentful" src="http://netengine-blog-media.s3.amazonaws.com/simple_static_sites/third-party-logos.png" /></p>
          
          <h3>How it works</h3>
          
          <p>To start we&rsquo;ll need to create a <a href="https://middlemanapp.com/basics/install/">Middleman</a> project, and host the repo on <a href="https://github.com/">Github</a>. To start adding content sections, simply <a href="https://be.contentful.com/register">create an account</a> with <em>Contentful</em> and setup an API access key.</p>
          
          <p><img alt="Contentful" src="http://netengine-blog-media.s3.amazonaws.com/simple_static_sites/contentful.png" /></p>
          
          <p>You as the site creator can setup any kind of content type to match the needs of your website. In the <a href="https://github.com/net-engine/simple_static_site_example">example project</a> I&rsquo;ve simply created &lsquo;Pages&rsquo; and &#39;Blog Posts&rsquo;, but previously I&rsquo;ve also used it for site-wide variables such as social media accounts or boolean values for design purposes (e.g. Toggle hero image on/off).</p>
          
          <p>You can see an overview of a middleman project structure by looking at the <a href="https://github.com/net-engine/simple_static_site_example">example project</a>.</p>
          
          <p><strong>This is where the magic happens.</strong></p>
          
          <p>So the real hero of this story is the <a href="https://github.com/contentful-labs/contentful_middleman">contentful_middleman</a> gem. Once you have created a space and any relevant content types, add the access credentials and space configuration to <code>config.rb</code>, e.g.:</p>
          <pre class="highlight plaintext"><code>activate :contentful do |f|
            f.access_token  = ENV['CONTENTFUL_ACCESS_TOKEN']
            f.space         = { site: ENV['CONTENTFUL_SPACE_ID'] }
            f.content_types = {
              page:      ENV['CONTENTFUL_PAGE_KEY'],
              blog_post: ENV['CONTENTFUL_BLOG_POST_KEY']
            }
          end
          </code></pre>
          
          <p>Anyone with access to that <em>Contentful</em> account can author content such as blog posts and upload images as they would any other CMS.</p>
          
          <p>Once it&rsquo;s setup, you can run <code>bundle exec middleman contentful</code> locally to populate your project with any added content as individual <a href="http://yaml.org/">YAML</a> files, matching the <a href="https://middlemanapp.com/advanced/data_files/">defined Middleman structure</a>.</p>
          
          <h4>Taking it live&hellip;</h4>
          
          <p>Now to make the site update automatically when a change is made by an author on <em>Contentful</em>. This is is where <a href="https://www.netlify.com/">Netlify</a> comes in.</p>
          
          <p><em>Netlify</em> is a CI server (and hosting provider, and CDN, amongst other things) specifically built for static site generators. It&rsquo;s easy to setup, simply create an account, create a new site, and link it to the corresponding Github repository.</p>
          
          <p><img alt="Netlify" src="http://netengine-blog-media.s3.amazonaws.com/simple_static_sites/netlify.png" /></p>
          
          <p>Once added, you will need to add the &ldquo;Build Cmd&rdquo;, which for middleman is <code>middleman build</code>. And that&rsquo;s it! After linking the repo it is automatically set up to deploy on pushes to <code>master</code>. <em>Netlify</em> hosts the site automatically, but you can also configure your build process to deploy elsewhere.</p>
          
          <blockquote>
          <p>This process allows for a developer to build a simple, manageable static site which authors can modify to their heart&rsquo;s content.</p>
          </blockquote>
          
          <h3>Why?</h3>
          
          <p>So, why jump through all these hoops? Well, most content-focused websites are a perfect fit for <a href="https://www.staticgen.com/">static site generators</a> (such as <em>Middleman</em>, my preferred tool for the job). For example, a marketing website for a product/service or a blog which has a few pages and a contact form (see at the end for a <a href="#contact_forms">bonus on contact forms</a>).</p>
          
          <p>However, more often than not there is a need for a non-technical (in a web development sense) content author to be able to add or update content. This is where a traditional CMS (<em>Wordpress</em>, <em>Drupal</em>, etc) usually rears its ugly head. My process in the <a href="http://netengine.com.au/blog/blogging-straight-from-prose-io/">earlier post</a> allowed for this workflow, however there were limits to how extensible it was without getting technical. This process allows for a developer to build a simple, manageable static site which authors can change to their heart&rsquo;s content.</p>
          
          <p>In fact, this process would work well for a web designer to setup simple sites to be administered by their non-technical coworkers or clients. They can reuse this process on different sites and modify the HTML/CSS &amp; Javascript as needed.</p>
          
          <p><hr id="contact_forms"></p>
          
          <h3>Bonus: Contact Forms</h3>
          
          <p>&ldquo;Contact forms on a static site?&rdquo;, you ask. Yes, it&rsquo;s possible, and easy! There are a few different approaches to this, but they will all require some sort of server. My personal favourite (because I&rsquo;m already using the service) is to set up a Google Form, populating a spreadsheet of responses from which I can trigger an email or other actions. Recently we even used <a href="https://triggerapp.com">Trigger&rsquo;s</a> email to task functionality to create tasks directly from form submissions (and turn <em>Trigger</em> into a CRM, but that&rsquo;s another story).</p>
          
          <p>An even simpler solution is a service called <a href="https://formspree.io/">Formspree</a>, which allows you to provide an email address, paste the form HTML in your site and start receiving straight away! I&rsquo;ve included a <em>Formspree</em> contact form in the <a href="http://net-engine.github.io/simple_static_site_example/contact/">example project</a></p>
          
          <p><a class="button button-large" href="https://github.com/net-engine/simple_static_site_example">View example project</a></p>
          
          <hr>
          
          <p>N.B. Both <em>Contentful</em> &amp; <em>Netlify</em> can be used with <a href="https://github.com/contentful-labs/contentful-metalsmith">other</a> <a href="https://www.staticgen.com/">static site generators</a>.</p>
          
          <p><em>Originally published on <a href="http://netengine.com.au/blog/simple-static-sites/">netengine.com.au</a></em></p>
          
          <p><link rel="canonical" href="http://netengine.com.au/blog/simple-static-sites/"></p>
        </section>
        <footer class='blog-post-footer'>
          <a class="prev" href="/articles/blogging-straight-from-prose-io/">Prev</a>
          <a href="/articles">See all posts</a>
          <a class="next" href="/articles/deploying-your-static-site-with-travis-ci/">Next</a>
        </footer>
      </div>
    </section>
    <footer class='site-footer'>
      <div class='container'>
        <nav class='site-nav'>
          <a class="github" href="https://github.com/rowanhogan">GitHub</a>
          <a class="dribbble" href="http://dribbble.com/rowanhogan">Dribbble</a>
          <a class="linkedin" href="http://www.linkedin.com/in/rowanhogan">LinkedIn</a>
          <a class="twitter" href="https://twitter.com/rowanhogan">Twitter</a>
          <a class="lastfm" href="http://www.last.fm/user/rehogan">Last.fm</a>
        </nav>
      </div>
    </footer>
    <script src="../../assets/javascripts/application-aedf1007.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-42849478-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>

(function(){var e,a,t;t=function(){return tinysort("#timeline > li",{data:"time",order:"desc"})},a=function(e,a){return $.getJSON(a,function(a){var l;return a=function(){switch(!1){case"dribbble"!==e:return a.shots;case"lastfm"!==e:return a.recenttracks.track;default:return a.data}}(),a?(l=a.length,$.each(a,function(a,n){return l--,("github"!==e||"PushEvent"===n.type)&&($("#timeline").append(JST["templates/"+e](n)),$("#timeline").removeClass("loading")),0===l?t():void 0})):void 0})},e=function(){var e;return e=[{name:"dribbble",url:"http://api.dribbble.com/players/rowanhogan/shots?callback=?"},{name:"github",url:"https://api.github.com/users/rowanhogan/events/public?callback=?"},{name:"lastfm",url:"http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=rehogan&api_key=ef147845c58771a584366acb1089d962&format=json&callback=?"},{name:"instagram",url:"https://api.instagram.com/v1/users/682546/media/recent/?access_token="+$("#instagram").data("token")+"&callback=?"}],$("#timeline").addClass("loading").html(""),$("#timeline-list-labels").find(".list-label").remove(),$.each(e,function(e,t){var l;return a(t.name,t.url),l=$("<label class='list-label icon-"+t.name+"' data-type='"+t.name+"'></label>"),$("#timeline-list-labels").append(l),l.on("click",function(){return $("#timeline-list-labels label").removeClass("active"),$(this).addClass("active"),$("#timeline").addClass("loading").html(""),a(t.name,t.url)})})},$(function(){return $("#timeline").length&&e(),$(".show-all-link").on("click",function(){return $("#timeline-list-labels label").removeClass("active"),$(this).addClass("active"),$("#timeline").addClass("loading").html(""),e()})})}).call(this);